<!DOCTYPE html>
<html lang="mk">
<head>
  <meta charset="UTF-8">
  <title>Tile AR (Floor & Wall) ‚Äì Scene Viewer –∑–∞ Vertical</title>
  <!-- –í–∫–ª—É—á–∏ —ò–∞ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞ –≤–µ—Ä–∑–∏—ò–∞ –Ω–∞ model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      margin-top: 50px;
    }
    #viewer {
      width: 100%;
      max-width: 800px;
      height: 600px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }
    .button-row {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border: 1px solid #888;
      border-radius: 4px;
      background-color: #f7f7f7;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #e0e0e0;
    }
    button.active {
      background-color: #d0f0d0;
      border-color: #4caf50;
    }
  </style>
</head>
<body>

<h1>View 30x30 Tile in AR (Floor & Wall)</h1>

<!-- 1. Model‚Äêviewer —Å–æ Scene Viewer –ø—Ä–≤–æ, WebXR –ø–æ—Å–ª–µ–¥–Ω–æ -->
<model-viewer
        id="viewer"
        src="models/tile3.glb"
        ios-src="models/pattern.usdz"
        alt="Tile –∑–∞ –ø–æ–¥ –∏ —ï–∏–¥"
        camera-controls
        auto-rotate
        auto-rotate-delay="1s"
        camera-orbit="45deg 75deg 2.5m"
        camera-target="0m 0m 0m"
        field-of-view="50deg"
        environment-image="textures/hdri_sky_015.hdr"
        poster="textures/tile2.jpg"
        ar
        ar-modes="scene-viewer quick-look webxr"
        ar-placement="floor"
        ar-scale="auto"
        style="width: 100%; height: 600px;">
</model-viewer>

<!-- 2. –ö–æ–ø—á–∏—ö–∞ –∑–∞ –∏–∑–±–æ—Ä Floor / Wall –∏ –∑–∞ —Å—Ç–∞—Ä—Ç—É–≤–∞—ö–µ AR -->
<div class="button-row">
  <button id="toFloor" class="active">–ü–æ—Å—Ç–∞–≤–∏ –Ω–∞ –ø–æ–¥</button>
  <button id="toWall">–ü–æ—Å—Ç–∞–≤–∏ –Ω–∞ —ï–∏–¥</button>
  <button id="ar-button">üì± View in AR</button>
</div>

<!-- 3. JavaScript –∑–∞ –¥–∏–Ω–∞–º–∏—á–Ω–æ –ø–æ—Å—Ç–∞–≤—É–≤–∞—ö–µ –Ω–∞ ar-placement –∏ –∞–∫—Ç–∏–≤–∏—Ä–∞—ö–µ AR -->
<script>
  const viewer = document.getElementById('viewer');
  const btnFloor = document.getElementById('toFloor');
  const btnWall = document.getElementById('toWall');
  const btnAR = document.getElementById('ar-button');

  // –ü–æ—á–µ—Ç–Ω–æ: ar-placement –Ω–∞ "floor"
  viewer.setAttribute('ar-placement', 'floor');
  btnFloor.classList.add('active');

  btnFloor.addEventListener('click', () => {
    viewer.setAttribute('ar-placement', 'floor');
    btnFloor.classList.add('active');
    btnWall.classList.remove('active');
  });

  btnWall.addEventListener('click', () => {
    viewer.setAttribute('ar-placement', 'wall');
    btnWall.classList.add('active');
    btnFloor.classList.remove('active');
  });

  btnAR.addEventListener('click', () => {
    if (viewer && typeof viewer.activateAR === 'function') {
      viewer.activateAR();
    } else {
      alert("AR not supported or model not loaded.");
    }
  });
</script>
</body>
</html>
